{{- if eq .Values.global.cloudProvider "google" }}

apiVersion: storage.gcp.upbound.io/v1beta2
kind: Bucket
metadata:
  name: {{ .Values.global.bucketName }}
  annotations:
    crossplane.io/external-name: {{ .Values.global.bucketName }}
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  deletionPolicy: Orphan
  forProvider:
    location: {{ .Values.global.google.bucket.location }}
    uniformBucketLevelAccess: true
  providerConfigRef:
    name: {{ .Values.global.providerConfigRefName }}

{{- end }}
